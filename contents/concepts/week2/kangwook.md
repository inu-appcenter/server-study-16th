# π“ Entityλ” λ¬΄μ—‡μΈκ°€μ”?

λ°μ΄ν„°μ μ§‘ν•©μ„ μλ―Έν•λ©°, μ €μ¥λκ³  κ΄€λ¦¬λμ–΄μ•Ό ν•λ” λ°μ΄ν„°μ΄λ‹¤.

μ‹¤μ§μ μΌλ΅ **DBμ ν…μ΄λΈ”κ³Ό λ§¤μΉ­**λλ‹¤.

μ§μ ‘μ μΌλ΅ DBμ™€ μ—°κ²°λμ–΄μκΈ° λ•λ¬Έμ— DBμ™€ λ‚΄μ©μ΄ λ‹¤λ¥΄λ©΄ μ•λλ‹¤.  

&nbsp;
## μμ†μ„±μ€ λ¬΄μ—‡μΌκΉμ”?

μμ†μ„±(Persistence)μ€ λ°μ΄ν„°λ‚ κ°μ²΄μ μƒνƒλ¥Ό μ μ§€ν•κ³ , μ΄λ¥Ό μκµ¬μ μΌλ΅ μ €μ¥ν•κ³  κ΄€λ¦¬ν•λ” κΈ°λ¥μ„ μλ―Έν•λ‹¤. 

&nbsp;
## μμ†μ„± μ»¨ν…μ¤νΈλ€?

μμ†μ„± μ»¨ν…μ¤νΈλ” μμ†μ„±μ„ κ°€μ§€λ” κ³µκ°„μ΄λ‹¤.

μ• ν”λ¦¬μΌ€μ΄μ…κ³Ό λ°μ΄ν„°λ² μ΄μ¤ μ‚¬μ΄μ—μ„ **entityλ“¤μ΄ DBλ΅ λ°”λ΅ κ°€μ§€ μ•κ³ , entityλ¥Ό μ €μ¥ν•λ” ν™κ²½μΌλ΅μ„μ μ—­ν• **μ„ ν•λ‹¤.

κ°μ²΄λ¥Ό λ³΄κ΄€ν•λ” κ°€μƒμ λ°μ΄ν„°λ² μ΄μ¤ κ°™μ€ μ—­ν• μ„ ν•λ‹¤.

&nbsp;
### νΉμ§•

- μ—”ν‹°ν‹° λ§¤λ‹μ €λ¥Ό μƒμ„±ν•  λ•λ§λ‹¤ λ…λ¦½μ μΌλ΅ λ§λ“¤μ–΄μ§„λ‹¤.
- μ—”ν‹°ν‹° λ§¤λ‹μ €λ¥Ό ν†µν•΄μ„ μμ†μ„± μ»¨ν…μ¤νΈμ— μ ‘κ·Όν•κ³  κ΄€λ¦¬ν•  μ μλ‹¤.

  jpaμ—μ„ entityManagerFactoryμ—μ„ μƒμ„±λ entityManagerλ¥Ό ν†µν•΄ μμ†μ„± μ»¨ν…μ¤νΈμ— μ ‘κ·Όν•λ‹¤.

&nbsp;
## Entityμ μƒλ…μ£ΌκΈ°λ” μ–΄λ–»κ² λλ‚μ”?

μ—”ν‹°ν‹°μ μƒλ…μ£ΌκΈ°λ” λ‹¤μκ³Ό κ°™λ‹¤.

- λΉ„μμ†: μμ†μ„± μ»¨ν…μ¤νΈμ™€ μ „ν€ κ΄€κ³„κ°€ μ—†λ” μƒνƒ
- μμ†: μμ†μ„± μ»¨ν…μ¤νΈμ— μ €μ¥λ μƒνƒ
- μ¤€μμ†: μμ†μ„± μ»¨ν…μ¤νΈμ— μ €μ¥λμ—λ‹¤κ°€ λ¶„λ¦¬λ μƒνƒ, λΉ„μμ†κ³Όμ μ°¨μ΄λ” μμ†μ΄ λμ μ΄ μλ”κ°€.
- μ‚­μ : μ‚­μ λ μƒνƒ,1μ°¨ μΊμ‹μ™€ DBμ— λ¨λ‘ μ‚­μ λ μƒνƒλ¥Ό μλ―Έ

![image](https://github.com/inu-appcenter/server-study-16th/assets/62889359/b96c020a-104d-4a2c-87f0-2fcff611e4bc)

&nbsp;
## Entityμ— κ΄€λ ¨λ μ–΄λ…Έν…μ΄μ…μ€ λ¬΄μ—‡μ΄ μλ‚μ”?

&nbsp;
### **1. @Entity**

@Entityλ” DBν…μ΄λΈ”μ— λ€μ‘ν•λ” ν•λ‚μ ν΄λμ¤μ΄λ‹¤.

ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤λ” JPAκ°€ κ΄€λ¦¬ν•΄μ£Όλ©°, JPA μ΄μ©ν•΄ λ§¤ν•‘ν•  ν΄λμ¤λ” @Entityλ¥Ό λ¶™μ—¬μ•Όλ§ λ§¤ν•‘μ΄ κ°€λ¥ν•λ‹¤.


&nbsp;
### **2. @Getter**

@Getterλ” μ—”ν‹°ν‹°μ ν•„λ“λ¥Ό μ΅°νν•  λ• μ‚¬μ©ν•λ” μ–΄λ…Έν…μ΄μ…μΌλ΅ λ°λ“μ‹ ν•„μ”ν•λ‹¤.
&nbsp;
### **3. @NoArgsConstructor**

@NoArgsConstructorλ” νλΌλ―Έν„°κ°€ μ—†λ” κΈ°λ³Έ μƒμ„±μλ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ£Όλ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

JPAλ” κΈ°λ³Έμ μΌλ΅ **κΈ°λ³Έ μƒμ„±μλ¥Ό μ”κµ¬**ν•λ‹¤.

JPAμ—μ„λ”Β **μλ°” κ°μ²΄λ΅ λ§¤ν•‘ν•  λ• κΈ°λ³Έ μƒμ„±μλ¥Ό ν†µν•΄ κ°μ²΄λ¥Ό λ§λ“¤κΈ° λ•λ¬Έμ΄λ‹¤.**

κ·Έλμ„ Entityμ—λ” @NoArgsConstructor μ–΄λ…Έν…μ΄μ…μ„ λ°λ“μ‹ λ¶™μ—¬μ£Όμ–΄μ•Ό ν•λ‹¤.

&nbsp;
### **4. @Table(name = "")**

@Table(name = "")λ” Databaseμ— μƒμ„±λ  tableμ μ΄λ¦„μ„ μ§€μ •ν•  λ• μ‚¬μ©λλ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

&nbsp;
### **5. @Id, @GeneratedValue**

**@Id**λ” DBμ **pk(κ³ μ ν‚¤)λ¥Ό** λ§¤μΉ­ν•΄μ£Όλ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

idλΌλ” κ°’μ— @Id μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ¤μΌλ΅μ¨ idλ” ν•΄λ‹Ή DBμ κ³ μ ν‚¤μ™€ λ§¤μΉ­λ μ…μ΄λ‹¤.

**@GeneratedValue**λ” **κΈ°λ³Έν‚¤ μƒμ„±μ„ DBμ— μ„μ„**ν•΄μ£Όλ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

&nbsp;
### **6. @Column(nullable = false, unique = true)**

@Columnμ€ κ°μ²΄ ν•„λ“λ¥Ό ν…μ΄λΈ”μ μ»¬λΌμ— λ§¤ν•‘μ‹μΌμ£Όλ” μ–΄λ…Έν…μ΄μ…μ΄λ‹¤.

κ΄„νΈ μ•μ— ν•΄λ‹Ή μ»¬λΌμ **μ μ•½μ΅°κ±΄** μ„ μ…λ ¥ν•  μ μλ‹¤.

nullable = false, unique = true μ²λΌ nullκ°’μ΄ λ“¤μ–΄μ¤μ§€ λ»ν•κ² ν•λ‹¤κ±°λ‚, uniqueν‚¤λ΅ μ§€μ •ν•΄μ„ μ¤‘λ³µμ„ μ κ±°ν•λ” λ“±μ μ›ν•λ” μ μ•½ μ΅°κ±΄μ„ μ…λ ¥ν•΄μ£Όλ©΄ λλ‹¤.
